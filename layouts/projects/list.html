{{ define "content" }}
<section class="container list">
  <h1>{{ .Title }}</h1>
  {{ .Content }}

  {{ range .RegularPages.ByDate.Reverse }}
    <article
      style="color:white;
        position:relative;
        border-radius:12px;
        padding:1.5rem;
        margin-bottom:1.5rem;
        overflow:hidden;

        background-size:cover;
        background-position:center;
        background-repeat:no-repeat;

        {{ with .Params.image }}
          background-image:
            linear-gradient(
                90deg,
                rgba(0,0,0,0.88) 0%,
                rgba(0,0,0,0.65) 45%,
                rgba(0,0,0,0.25) 100%
            ),
            url('{{ . | relURL }}');
        {{ else }}
          background-image: linear-gradient(0deg, rgba(0,0,0,0.35), rgba(0,0,0,0.35));
        {{ end }}
      "
    >
      <div
        style="
          position:relative;
          z-index:1;
          display:flex;
          flex-direction:column; /* Change to column layout to stack content vertically */
          gap:1.2rem;
        "
      >
        <!-- Content section (year pill, title, summary) -->
        <div style="display:flex; flex-direction:column; gap:0.6rem;">
          <!-- Year pill row -->
          <div style="display:flex; align-items:center; gap:0.5rem;">
            {{ with .Params.year }}
                <span class="year-pill-list" style="
                  display: inline-flex;
                  align-items: center;
                  padding: 2px 6px;
                  border-radius: 6px;
                  background-color: rgba(0,0,0,0.7); /* More opaque background */
                  font-size: 12px;
                  color: #fff;
                  z-index: 2; /* Ensure it's above any potential overlapping */
                  position: relative;
                ">
                <span class="year-icon-list" style="
                  width: 12px;
                  height: 12px;
                  margin-right: 4px;
                  fill: #fff;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                ">
                  {{ partial "icons/calendar.svg" $ }}
                </span>
                {{ . }}
              </span>
            {{ end }}
          </div>
          
          <!-- Title and summary section -->
          <div style="display:flex; flex-direction:column; gap:0.6rem;">
            <h2 style="margin-top:0; margin-bottom:0.6rem;color:white;">
              <a
                href="{{ .RelPermalink }}"
                style="color:inherit; text-decoration:none;"
              >
                {{ .Title }}
              </a>
            </h2>

            {{ with .Summary }}
              <p style="margin:0; opacity:0.92;">
                {{ . }}
              </p>
            {{ end }}
          </div>
        </div>

        <!-- Read button at the bottom -->
        <a
          href="{{ .RelPermalink }}"
          aria-label="Open {{ .Title }}"
          style="
            position:relative;
            z-index:1;
            align-self:flex-start; /* Align the button to the left */
            padding:0.55rem 0.9rem;
            border-radius:999px;
            border:1px solid rgba(255,255,255,0.25);
            background:rgba(0,0,0,0.35);
            color:white;
            text-decoration:none;
            white-space:nowrap;
            margin-top:0.5rem; /* Small top margin to separate from content */
          "
        >
          Read â†’
        </a>
      </div>
    </article>
  {{ end }}

</section>
{{ end }}