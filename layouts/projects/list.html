{{ define "content" }}
<section class="container list">
  <h1>{{ .Title }}</h1>
  {{ .Content }}

  {{ range .RegularPages.ByDate.Reverse }}
    <article
      style="color:white;
        position:relative;
        border-radius:12px;
        padding:1.5rem;
        margin-bottom:1.5rem;
        overflow:hidden;

        background-size:cover;
        background-position:center;
        background-repeat:no-repeat;

        {{ with .Params.image }}
          background-image:
            linear-gradient(
                90deg,
                rgba(0,0,0,0.88) 0%,
                rgba(0,0,0,0.65) 45%,
                rgba(0,0,0,0.25) 100%
            ),
            url('{{ . | relURL }}');
        {{ else }}
          background-image: linear-gradient(0deg, rgba(0,0,0,0.35), rgba(0,0,0,0.35));
        {{ end }}
      "
    >
      <div
        style="
          position:relative;
          z-index:1;
          display:flex;
          flex-direction:column; /* Change to column layout to stack content vertically */
          gap:1.2rem;
        "
      >
        <!-- Top section with year pill on the right -->
        <div style="display:flex; justify-content:space-between; align-items:center; gap:0.5rem;">
          <div style="flex:1;"></div> <!-- Spacer to push pill to the right -->
          {{ with .Params.year }}
            <span class="year-pill-list" style="
              display: inline-flex;
              align-items: center;
              padding: 2px 6px;
              border-radius: 6px;
              background-color: #333;
              font-size: 12px;
              color: #fff;
              flex-shrink: 0; /* Prevent shrinking */
            ">
              <span class="year-icon-list" style="
                width: 12px;
                height: 12px;
                margin-right: 4px;
                fill: #fff;
                display: flex;
                align-items: center;
                justify-content: center;
              ">
                {{ partial "icons/calendar.svg" $ }}
              </span>
              {{ . }}
            </span>
          {{ end }}
        </div>
        
        <!-- Middle section with title and summary -->
        <div style="display:flex; flex-direction:column; gap:0.6rem;">
          <h2 style="margin-top:0; margin-bottom:0.6rem;color:white;">
            <a
              href="{{ .RelPermalink }}"
              style="color:inherit; text-decoration:none;"
            >
              {{ .Title }}
            </a>
          </h2>

          {{ with .Summary }}
            <p style="margin:0; opacity:0.92;">
              {{ . }}
            </p>
          {{ end }}
        </div>

        <!-- Bottom section with read button on the right -->
        <div style="display:flex; justify-content:flex-end;"> <!-- This aligns the button to the right -->
          <a
            href="{{ .RelPermalink }}"
            aria-label="Open {{ .Title }}"
            style="
              position:relative;
              z-index:1;
              padding:0.55rem 0.9rem;
              border-radius:999px;
              border:1px solid rgba(255,255,255,0.25);
              background:rgba(0,0,0,0.35);
              color:white;
              text-decoration:none;
              white-space:nowrap;
            "
          >
            Read â†’
          </a>
        </div>
      </div>
    </article>
  {{ end }}

</section>
{{ end }}