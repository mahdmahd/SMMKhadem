{{ define "content" }}
<section class="container list">
  <h1>{{ .Title }}</h1>
  {{ .Content }}

  {{ range .RegularPages.ByDate.Reverse }}
    <article
      style="
        position:relative;

        display:grid;
        grid-template-columns: 1fr 160px;  /* content | thumbnail */
        grid-template-rows: auto auto auto; /* top | middle | bottom */
        column-gap: 1rem;
        row-gap: 0.8rem;

        color:white;
        border-radius:12px;
        padding:1rem;
        margin-bottom:1.5rem;
        background:rgba(0,0,0,0.55);
        border:1px solid rgba(255,255,255,0.12);
        overflow:hidden;
      "
    >
      <!-- TOP ROW: year pill aligned to FAR RIGHT of the whole card -->
      <div style="grid-column: 1 / -1; display:flex; justify-content:flex-end; align-items:center;">
        {{ with .Params.year }}
          <span class="year-pill-list" style="
            display:inline-flex;
            align-items:center;
            padding: 2px 6px;
            border-radius: 6px;
            background-color: #333;
            font-size: 12px;
            color: #fff;
            flex-shrink: 0;
          ">
            <span class="year-icon-list" style="
              width: 12px;
              height: 12px;
              margin-right: 4px;
              fill: #fff;
              display: flex;
              align-items: center;
              justify-content: center;
            ">
              {{ partial "icons/calendar.svg" $ }}
            </span>
            {{ . }}
          </span>
        {{ end }}
      </div>

      <!-- MIDDLE LEFT: content -->
      <div style="grid-column: 1; grid-row: 2; min-width:0;">
        <h2 style="margin-top:0; margin-bottom:0.6rem;color:white;">
          <a
            href="{{ .RelPermalink }}"
            style="color:inherit; text-decoration:none;"
          >
            {{ .Title }}
          </a>
        </h2>

        {{ with .Summary }}
          <p style="margin:0; opacity:0.92;">
            {{ . }}
          </p>
        {{ end }}
      </div>

      <!-- MIDDLE RIGHT: thumbnail centered vertically in the middle row -->
      <div
        style="
          grid-column: 2;
          grid-row: 2;
          justify-self:end;
          align-self:center;

          width:160px;
          height:110px;
          border-radius:10px;
          overflow:hidden;
          background:rgba(255,255,255,0.06);
        "
      >
        {{ with .Params.image }}
          <img
            src="{{ . | relURL }}"
            alt="{{ $.Title }}"
            loading="lazy"
            style="
              width:100%;
              height:100%;
              object-fit:cover;
              display:block;
            "
          />
        {{ else }}
          <div style="width:100%;height:100%;"></div>
        {{ end }}
      </div>

      <!-- BOTTOM ROW: Read button aligned to FAR RIGHT of the whole card -->
      <div style="grid-column: 1 / -1; display:flex; justify-content:flex-end;">
        <a
          href="{{ .RelPermalink }}"
          aria-label="Open {{ .Title }}"
          style="
            padding:0.55rem 0.9rem;
            border-radius:999px;
            border:1px solid rgba(255,255,255,0.25);
            background:rgba(0,0,0,0.35);
            color:white;
            text-decoration:none;
            white-space:nowrap;
          "
        >
          Read â†’
        </a>
      </div>
    </article>
  {{ end }}
</section>
{{ end }}
